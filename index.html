<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokemon random Vs</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <h1 class="title">Pokemon random Vs</h1>

  <button class="boton" onclick="consultarPokemones()">Â¡Nueva Batalla!</button>

  <div class="pokemon-list" id="listaPokemon">
    <div class="pokemon" id="pokemon1">
      <img src="" alt="imagen frontal de bulbasur">
      <p>Pokemon 1</p>
    </div>

    <div class="vs">Vs.</div>

    <div class="pokemon" id="pokemon2">
      <img src="" alt="imagen frontal de bulbasur">
      <p>Pokemon 2</p>
    </div>
  </div>

  <script>

    let lista = document.getElementById('listaPokemon')
    
    // Para poder reutilizarla
    function consultarPokemon(id, num){
      
      fetch(`https://pokeapi.co/api/v2/pokemon/${id}`)
      .then(function (response){
        // console.log(response)
        response.json()
        .then(function (pokemon){
          // console.log(pokemon.name)
          crearPokemon(pokemon, num)
  
        })
      })
    } 

   

    function consultarPokemones(){
      let primerId = Math.round(Math.random() * 150)
      let segundoId = Math.round(Math.random() * 150)

      consultarPokemon(primerId, 1)
      consultarPokemon(segundoId, 2)
    }

    function crearPokemon(pokemon, num){
      let item = lista.querySelector(`#pokemon${num}`)
      let imagen = item.getElementsByTagName("img")[0]
      imagen.setAttribute("src", pokemon.sprites.front_default)
      
      let nombre = item.getElementsByTagName("p")[0]
      nombre.textContent = pokemon.name 
    }

    consultarPokemones()

  </script>

</body>
</html>